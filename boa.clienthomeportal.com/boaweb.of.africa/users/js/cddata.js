function computeObj(d){var n=this;this.model=d;this.compid="CDdata";var a="cd_deposit";var o="cd_months";var r="cd_intrate";var f="cd_compound";var j="ppy";var b="cd_balance";var h="cd_apy";var g="ppytable";var l="haxismax";var p="graphtype";var c=24;var m=60;var i=768;var e=390;var k=225;var s=["bd3408","63659c","7b9aad","007d00","ff0000","efd773","73d773"];var q=null;this.getDataItem=function(t){return n.model.getItem(t)};this.getCurValue=function(t){return n.model.getItem(t).getCurValue()};this.getDataValue=function(t){return n.model.getItem(t).getValue()};this.setDataValue=function(u,v){var t=n.model.getItem(u);if(t!=null){t.setValue(v)}};this.getDataValueAt=function(v,t){var w=0;var u=n.getDataItem(v);if(u!=null){if(u.getNumRows()>1){w=u.getCellValue(t,0)}else{w=u.getCellValue(0,t)}}return w};this.setDataValueAt=function(v,t,w){var u=n.getDataItem(v);if(u!=null){if(u.getNumRows()>1){u.setCellValue(t,0,w)}else{u.setCellValue(0,t,w)}}return w};this.comp_ppy=function(){var v=n.getCurValue(f);var t=Math.floor(v);var u=n.getDataValueAt(g,t);return u};this.comp_cd_balance=function(){var v=n.getDataValue(j);var x=n.getDataValue(r)/v;var w=n.getDataValue(o);var u=w*v/12;var t=vc_math.fvs(n.getDataValue(a),x,u);var y;if(v>12){x=vc_math.fvs(1,x,v/12)-1;y=vc_math.fvp(0,x,w,0)}else{y=vc_math.fvp(0,x,u,0)}t+=y;return t};this.comp_cd_intacc=function(){var t=n.getDataValue(b);var u=n.getDataValue(a);return(t-u)};this.comp_cd_apy=function(){var v=n.getDataValue(r);var u=n.getDataValue(j);var t=Math.pow(1+(v/u),u)-1;return t};this.comp_haxismax=function(){var t=(Math.floor((n.getDataValue(o)-1)/12)+1)*12;return t};this.getColorPalette=function(){if(q==null){q=s;var v=document.getElementById("vcapp");if(v){var t=v.getAttribute("data-graph-colors");if(t){var u=t.split(",");if(u&&$.isArray(u)&&u.length>=7){q=u}}}}return q};this.getGraphColor=function(u){var t=n.getColorPalette();return t[2]};this.calcNumVals=function(u,t){var v=t;if(u>=12){if(t>c){v=-Math.floor(t/12);u=0}}else{if(u==4){if(t>m){v=-Math.floor(t/12);u=0}}}if(u>0){var w=12/u;if(w>1){v=Math.floor(t/w);if((t%w)>0){v++}}}return v};this.calcAPR=function(u,t){var v=t;if(u>0){v=(u*Math.pow(1+t,1/u))-u}return v};this.getIAxisTitle=function(t){var u="Month";if(t==1){u="Year"}else{if(t==2){u="Half Year"}else{if(t==4){u="Quarter"}}}return u};this.getBalGraphData=function(G,t,u,H,C){var A="";var v=n.calcAPR(u,H);var B=v/12;if(C>0){A+=""+C+";1;0;1;data;Balance";if(u>=12){for(var z=1;z<=C;z++){A+=";"+z;var F=G*B;G+=F;A+=";"+roundit(G,0.01)}}else{var E=12/u;var y=1;for(var z=1;z<=C;z++){A+=";"+z;for(var x=0;x<E;x++){var F=G*B;G+=F;if(y>=t){break}}A+=";"+roundit(G,0.01);y+=E}}}else{C=-C;var w=t-(C*12);var D=C+((w>0)?1:0);A+=""+D+";1;0;1;data;Balance";for(var z=1;z<=C;z++){A+=";"+z;var F=G*H;G+=F;A+=";"+roundit(G,0.01)}if(w>0){for(var x=0;x<w;x++){var F=G*B;G+=F}A+=";"+D;A+=";"+roundit(G,0.01)}}return A};this.getIntGraphData=function(H,t,u,I,D){var B="";var w=n.calcAPR(u,I);var C=w/12;var v=0;if(D>0){B+=""+D+";1;0;1;data;Interest Earned";if(u>=12){for(var A=1;A<=D;A++){B+=";"+A;var G=H*C;H+=G;v+=G;B+=";"+roundit(v,0.01)}}else{var F=12/u;var z=1;for(var A=1;A<=D;A++){B+=";"+A;for(var y=0;y<F;y++){var G=H*C;H+=G;v+=G;if(z>=t){break}}B+=";"+roundit(v,0.01);z+=F}}}else{D=-D;var x=t-(D*12);var E=D+((x>0)?1:0);B+=""+E+";1;0;1;data;Interest Earned";for(var A=1;A<=D;A++){B+=";"+A;var G=H*I;H+=G;v+=G;B+=";"+roundit(v,0.01)}if(x>0){for(var y=0;y<x;y++){var G=H*C;H+=G;v+=G}B+=";"+E;B+=";"+roundit(v,0.01)}}return B};this.comp_graph1=function(){var w=vc_app.getGraphHandler();var t=Math.random();var x=Math.min(screen.width,screen.height)<i?e:500;var D=Math.min(screen.width,screen.height)<i?k:300;var F="cdgraph.tpl";var A=w+"?plist=ctpl="+F+"|ctype=png|imgh="+D+"|imgw="+x+"|stamp="+t;var C=n.getDataValue(a);var u=n.getDataValue(o);var v=n.getDataValue(j);var B=n.getDataValue(h);var z=n.calcNumVals(v,u);var E=(z>0)?n.getIAxisTitle(v):"Year";var y="";if(n.getDataValue(p)==0){y=n.getBalGraphData(C,u,v,B,z)}else{y=n.getIntGraphData(C,u,v,B,z)}A+="|color="+n.getGraphColor();A+="|isclmax="+n.getDataValue(l);A+="|ititle="+E;A+="|gdata="+y;return A}};